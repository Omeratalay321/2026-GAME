<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yƒ±lba≈üƒ± Avcƒ±sƒ± 2026 - Kesin S√ºr√ºm</title>
    <style>
        body { margin: 0; overflow: hidden; background: #1a2a6c; font-family: sans-serif; }
        #game-container { position: relative; width: 100vw; height: 100vh; background: linear-gradient(to bottom, #1a2a6c, #2a4858); }
        #ground { position: absolute; bottom: 0; width: 100%; height: 50px; background: #fff; }
        #player { position: absolute; bottom: 50px; left: 50%; width: 60px; height: 60px; font-size: 50px; transform: translateX(-50%); z-index: 10; cursor: none; }
        #ui { position: absolute; top: 10px; left: 10px; color: white; z-index: 20; }
        .stat { font-size: 20px; font-weight: bold; margin-bottom: 5px; }
        .overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: white; background: rgba(0,0,0,0.95); padding: 25px; border-radius: 20px; z-index: 100; border: 3px solid #fff; width: 80%; max-width: 400px; }
        input { padding: 12px; font-size: 18px; border-radius: 8px; border: none; margin: 10px 0; width: 80%; text-align: center; }
        .btn { padding: 15px 30px; font-size: 20px; cursor: pointer; border-radius: 12px; border: none; background: #2ecc71; color: white; font-weight: bold; }
        #leaderboard-box { margin-top: 15px; background: rgba(255,255,255,0.1); border-radius: 10px; padding: 10px; }
        .score-row { display: flex; justify-content: space-between; padding: 5px; border-bottom: 1px solid rgba(255,255,255,0.2); }
        .item { position: absolute; font-size: 35px; pointer-events: none; }
        #game-over { display: none; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="start-screen" class="overlay">
        <h1 style="color: #f1c40f;">Hediye Avcƒ±sƒ±</h1>
        <input type="text" id="player-name-input" placeholder="Adƒ±nƒ± yaz...">
        <br><br>
        <button class="btn" id="start-btn">OYUNU BA≈ûLAT ‚ùÑÔ∏è</button>
        <div id="leaderboard-start">
            <p style="color:#2ecc71; font-weight:bold; margin-top:15px;">üèÜ EN ƒ∞Yƒ∞LER</p>
            <div id="local-list-start">Hen√ºz rekor yok!</div>
        </div>
    </div>

    <div id="ui">
        <div class="stat">Puan: <span id="score">0</span></div>
        <div class="stat">S√ºre: <span id="timer">30</span>s</div>
    </div>

    <div id="player">‚òÉÔ∏è</div>
    <div id="ground"></div>

    <div id="game-over" class="overlay">
        <h1 style="color: #f1c40f;">S√úRE Bƒ∞TTƒ∞!</h1>
        <p id="final-res" style="font-size: 24px; font-weight: bold;"></p>
        <div id="leaderboard-box">
            <p style="font-weight:bold; border-bottom:1px solid #fff;">SIRALAMA</p>
            <div id="local-list-end"></div>
        </div>
        <button class="btn" onclick="location.reload()" style="margin-top:10px;">TEKRAR DENE</button>
    </div>
</div>

<script>
    const startScreen = document.getElementById('start-screen');
    const gameOverScreen = document.getElementById('game-over');
    const startBtn = document.getElementById('start-btn');
    const nameInput = document.getElementById('player-name-input');
    const player = document.getElementById('player');
    const scoreDisplay = document.getElementById('score');
    const timerDisplay = document.getElementById('timer');

    let score = 0;
    let timeLeft = 30;
    let isGameOver = false;
    let isStarted = false;

    // Skorlarƒ± G√∂ster
    function updateList(id) {
        let scores = JSON.parse(localStorage.getItem('myGameScores') || "[]");
        scores.sort((a, b) => b.score - a.score);
        let html = "";
        scores.slice(0, 5).forEach((s, i) => {
            html += `<div class="score-row"><span>${i+1}. ${s.name}</span><span>${s.score}</span></div>`;
        });
        document.getElementById(id).innerHTML = html || "Hen√ºz rekor yok!";
    }
    updateList('local-list-start');

    // OYUNU BA≈ûLATMA FONKSƒ∞YONU
    startBtn.addEventListener('click', () => {
        if (nameInput.value.trim() === "") {
            alert("L√ºtfen bir ad gir garda≈ü!");
            return;
        }
        isStarted = true;
        startScreen.style.display = 'none';
        
        // Zamanlayƒ±cƒ±yƒ± ba≈ülat
        const timerInterval = setInterval(() => {
            if (isGameOver) {
                clearInterval(timerInterval);
                return;
            }
            timeLeft--;
            timerDisplay.innerText = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                finishGame();
            }
        }, 1000);

        // Hediye yaƒümurunu ba≈ülat
        setInterval(spawnItem, 500);
    });

    // Hareket Kontrol√º
    window.addEventListener('mousemove', (e) => {
        if (!isStarted || isGameOver) return;
        player.style.left = e.clientX + 'px';
    });

    function spawnItem() {
        if (isGameOver || !isStarted) return;
        const item = document.createElement('div');
        item.className = 'item';
        item.innerText = Math.random() > 0.2 ? 'üéÅ' : (Math.random() > 0.5 ? '‚ö°' : '‚è∞');
        item.style.left = Math.random() * (window.innerWidth - 40) + 'px';
        item.style.top = '-50px';
        document.body.appendChild(item);

        let pos = -50;
        let speed = Math.random() * 3 + 3;
        
        const fall = setInterval(() => {
            if (isGameOver) {
                clearInterval(fall);
                item.remove();
                return;
            }
            pos += speed;
            item.style.top = pos + 'px';

            // √áarpƒ±≈üma Testi
            let pRect = player.getBoundingClientRect();
            let iRect = item.getBoundingClientRect();

            if (pRect.left < iRect.right && pRect.right > iRect.left && pRect.top < iRect.bottom && pRect.bottom > iRect.top) {
                score += 10;
                scoreDisplay.innerText = score;
                clearInterval(fall);
                item.remove();
            }

            if (pos > window.innerHeight) {
                clearInterval(fall);
                item.remove();
            }
        }, 20);
    }

    function finishGame() {
        isGameOver = true;
        document.getElementById('final-res').innerText = "Skorun: " + score;
        gameOverScreen.style.display = 'block';

        // Kaydet
        let scores = JSON.parse(localStorage.getItem('myGameScores') || "[]");
        scores.push({name: nameInput.value, score: score});
        localStorage.setItem('myGameScores', JSON.stringify(scores));
        updateList('local-list-end');
    }
</script>

</body>
</html>
